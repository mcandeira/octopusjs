{"version":3,"names":["octopusScripts","Array","from","document","querySelectorAll","reverse","octopus","getComponent","selector","OctopusComponent","static","Map","setVal","name","val","unlock","vals","has","set","console","warn","getVal","get","setHelper","callback","helpers","getHelper","setAction","actions","triggerAction","value","setSecret","password","fun","secrets","getSecret","secret","fullActive","body","render","OctopusTemplates","getTemplates","setListener","e","preventDefault","OctopusRequest","target","action","FormData","autoprocess","ref","constructor","Element","this","querySelector","undefined","pop","parentNode","TypeError","getRef","getChild","child","getValue","innerHTML","event","addEventListener","deleteAll","element","remove","onMount","contains","MutationObserver","mutations","obs","disconnect","observe","childList","subtree","onUnMount","WeakMap","setProp","props","getProp","parent","closest","prop","listenChild","listener","propName","sendParent","input","position","relativeElement","templateFragment","getTemplate","content","relative","before","after","prepend","append","isArray","length","component","stringToTemplate","processTemplate","url","data","callbackError","fetch","Request","URLSearchParams","post","method","OctopusAutoProcess","request","then","response","ok","error","status","statusText","contentType","headers","includes","json","text","catch","message","OctopusFunctions","generateDialog","classes","options","tag","string","path","contents","split","reduce","o","i","innerTemplate","substring","ending","closeTag","starting","list","varName","chunks","forData","Object","create","push","join","cursor","getPairedTags","type","directives","replace","REGEX_VARS","match","key","trim","startDelimiter","endDelimiter","fromIndex","getTag","typeTag","nested","searchFrom","nextTag","Error","startingPosition","indexOf","REGEX_SPACES","template","createElement","fixScripts","script","workingScript","attributes","forEach","attr","setAttribute","textContent","replaceWith","templateOctopusDialog","id","dialog","existing","dialogID","showModal"],"sources":["octopus.js"],"mappings":"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","ignoreList":[]}