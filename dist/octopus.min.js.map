{"version":3,"names":["octopusScripts","Array","from","document","querySelectorAll","reverse","octopus","getComponent","selector","OctopusComponent","static","Map","setVal","name","val","unlock","vals","has","set","console","warn","getVal","get","setHelper","callback","helpers","getHelper","setAction","actions","triggerAction","value","setSecret","password","fun","secrets","getSecret","secret","fullActive","body","render","OctopusTemplates","getTemplates","use","e","preventDefault","OctopusRequest","target","action","FormData","autoprocess","ref","constructor","Element","this","querySelector","undefined","pop","parentNode","TypeError","getChild","child","prop","method","args","Error","deleteAll","element","remove","onMount","contains","MutationObserver","mutations","obs","disconnect","observe","childList","subtree","onUnmount","WeakMap","setProp","props","getProp","parent","closest","listenChild","listener","propName","sendParent","input","position","relativeElement","templateFragment","getTemplate","content","relative","innerHTML","append","before","prepend","after","isArray","length","component","stringToTemplate","processTemplate","url","data","callbackError","fetch","Request","URLSearchParams","post","OctopusAutoProcess","request","then","response","ok","error","status","statusText","contentType","headers","includes","json","text","catch","message","OctopusFunctions","generateDialog","classes","options","tag","string","path","contents","split","reduce","o","i","innerTemplate","substring","ending","closeTag","starting","list","varName","chunks","forData","Object","create","push","join","cursor","getPairedTags","type","directives","replace","REGEX_VARS","match","key","trim","startDelimiter","endDelimiter","fromIndex","getTag","typeTag","nested","searchFrom","nextTag","startingPosition","indexOf","REGEX_SPACES","template","createElement","fixScripts","script","workingScript","attributes","forEach","attr","setAttribute","textContent","replaceWith","templateOctopusDialog","id","dialog","existing","dialogID"],"sources":["octopus.js"],"mappings":"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","ignoreList":[]}